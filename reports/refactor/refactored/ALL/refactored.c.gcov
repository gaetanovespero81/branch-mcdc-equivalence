        -:    0:Source:refactored.c
        -:    0:Graph:refactored.gcno
        -:    0:Data:refactored.gcda
        -:    0:Runs:3
        -:    1:// refactor_example/refactored.c
        -:    2:#include <stdbool.h>
        -:    3:#include <stdlib.h>
        -:    4:
        -:    5:/*
        -:    6: * Refactored decision:
        -:    7: *
        -:    8: *   core = (speed > 0) && (brake == 0);   // AND-only chain
        -:    9: *   decision = emergency || core;         // OR-only chain
        -:   10: *
        -:   11: * main has NO extra logic: pure measurement.
        -:   12: */
        -:   13:
function enable_core called 3 returned 100% blocks executed 100%
        3:   14:static bool enable_core(int speed, int brake)
        -:   15:{
        3:   16:    return (speed > 0) && (brake == 0);
branch  0 taken 67% (fallthrough)
branch  1 taken 33%
branch  2 taken 50% (fallthrough)
branch  3 taken 50%
        -:   17:}
        -:   18:
function main called 3 returned 100% blocks executed 100%
        3:   19:int main(int argc, char **argv)
        -:   20:{
        3:   21:    int speed     = atoi(argv[1]);
        3:   22:    int brake     = atoi(argv[2]);
        3:   23:    int emergency = atoi(argv[3]);
        -:   24:
        3:   25:    bool core     = enable_core(speed, brake);
call    0 returned 100%
        3:   26:    bool decision = (emergency != 0) || core;
branch  0 taken 67% (fallthrough)
branch  1 taken 33%
branch  2 taken 50% (fallthrough)
branch  3 taken 50%
        -:   27:
        -:   28:    if (decision) 
        -:   29:    { 
        -:   30:        (void)0; 
        -:   31:    }
        -:   32:    else 
        -:   33:    { 
        -:   34:        (void)0; 
        -:   35:    }
        -:   36:
        3:   37:    return 0;
        -:   38:}
